(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{50:function(e,t,r){"use strict";var n=r(54),c=r.n(n),a=r(55),i="https://api.themoviedb.org/3",o="e3cd242deca1bad74d91e1e2d7bfed41";function s(e){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={getTrendingData:function(){return s("".concat(i,"/trending/movie/day?api_key=").concat(o,"&language=en-US"))},getSearchData:function(e){return s("".concat(i,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e))},getMovieById:function(e){return s("".concat(i,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))},getMovieCast:function(e){return s("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))},getMovieReviews:function(e){return s("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US"))}};t.a=l},52:function(e,t,r){"use strict";t.a=r.p+"static/media/imagePlaceholder.298b9820.png"},53:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),c=(r(0),r.p+"static/media/notFound.6ef12178.png");function a(e){var t=e.title;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{style:{fontFamily:"Roboto, sans-serif",fontWeight:"700"},children:t||"Oops! No such page :("}),Object(n.jsx)("img",{style:{width:"500px"},src:c,alt:"error"})]})}},57:function(e,t,r){e.exports={wrapper:"MovieList_wrapper__1C9Z6",list:"MovieList_list__ykPoV",item:"MovieList_item__umyvu",image:"MovieList_image__2I3DI",link:"MovieList_link__1OSFX",title:"MovieList_title__gdraA"}},58:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(1),c=(r(0),r(11)),a=r(3),i=r(57),o=r.n(i),s=r(52),u=r(59),l=r.n(u),p=function(e){return l()(e,{lower:!0})};var b=function(e){var t=e.movies,r=e.title,i=Object(a.h)(),u="".concat(i.pathname).concat(i.search);return Object(n.jsxs)("div",{className:o.a.wrapper,children:[Object(n.jsx)("h2",{children:r}),Object(n.jsx)("ul",{className:o.a.list,children:t.map((function(e){var t=p(e.title);return Object(n.jsx)("li",{className:o.a.item,children:Object(n.jsxs)(c.b,{to:{pathname:"/movies/".concat(t,"-").concat(e.id),state:u},className:o.a.link,children:[Object(n.jsx)("img",{className:o.a.image,src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):s.a,alt:e.title}),Object(n.jsx)("p",{className:o.a.title,children:e.title})]})},e.id)}))})]})}},60:function(e,t,r){e.exports={form:"SearchForm_form__qWosj",input:"SearchForm_input__zWLnu",btn:"SearchForm_btn__2sO4K"}},67:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r(1);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=r(51),s=r(0),u=r(3),l=r(50),p=r(23),b=r(60),f=r.n(b);var j=function(e){var t=e.getSearchQuery,r=Object(s.useState)(""),c=Object(o.a)(r,2),a=c[0],i=c[1],u=Object(s.useRef)(null);return Object(n.jsxs)("form",{className:f.a.form,onSubmit:function(e){e.preventDefault();var r=a.toLowerCase().trim();if(""===r)return p.b.error("Please enter a query"),void u.current.blur();t(r),i(""),u.current.blur()},children:[Object(n.jsx)("input",{className:f.a.input,type:"text",value:a,placeholder:"Search movies",onChange:function(e){i(e.target.value)}}),Object(n.jsx)("button",{type:"submit",className:f.a.btn,ref:u,children:"Search"})]})},h=r(58),m=r(21),g=r(53),O="idle",v="pending",d="resolved",y="rejected";function _(){var e,t=Object(s.useState)(null),r=Object(o.a)(t,2),c=r[0],a=r[1],p=Object(s.useState)(O),b=Object(o.a)(p,2),f=b[0],_=b[1],w=Object(s.useState)(null),x=Object(o.a)(w,2),S=x[0],k=x[1],P=Object(u.g)(),N=Object(u.h)(),D=null!==(e=new URLSearchParams(N.search).get("query"))&&void 0!==e?e:"";return Object(s.useEffect)((function(){""!==D&&(_(v),l.a.getSearchData(D).then((function(e){if(console.log(e.results),0===e.results.length)throw new Error("No results for ".concat(D,". Try another query."));a(e.results),_(d)})).catch((function(e){k(e),_(y)})))}),[D]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{getSearchQuery:function(e){P.push(i(i({},N),{},{search:"query=".concat(e)}))}}),f===v&&Object(n.jsx)(m.a,{}),D&&f===d&&Object(n.jsx)(h.a,{movies:c,title:"Search results for ".concat(D)}),f===y&&Object(n.jsx)(g.a,{title:S.message})]})}}}]);
//# sourceMappingURL=movies-search-view.26e2b669.chunk.js.map