{"version":3,"sources":["services/movies-api.js","images/imagePlaceholder.png","images/notFound.png","views/ErrorView.js","components/MovieList/MovieList.module.css","tools/slug.js","components/MovieList/MovieList.js","views/HomeView.js"],"names":["BASE_URL","KEY","fetchByURL","url","a","fetch","response","json","data","api","getTrendingData","getSearchData","query","getMovieById","id","getMovieCast","getMovieReviews","ErrorView","title","style","fontFamily","fontWeight","width","src","notFound","alt","module","exports","makeSlug","string","slugify","lower","MovieList","movies","location","useLocation","navRoute","pathname","search","className","s","wrapper","list","map","movie","movieSlug","item","to","state","link","image","poster_path","imagePlaceholder","Status","HomeView","useState","setMovies","status","setStatus","useEffect","moviesAPI","then","console","log","results","catch","error"],"mappings":"sKAAMA,EAAQ,+BACRC,EAAG,mC,SAEMC,E,8EAAf,WAA0BC,GAA1B,iBAAAC,EAAA,sEACyBC,MAAMF,GAD/B,cACQG,EADR,gBAEqBA,EAASC,OAF9B,cAEQC,EAFR,yBAGSA,GAHT,4C,sBA+BA,IAAMC,EAAM,CACVC,gBA1BF,WAEE,OAAOR,EADE,UAAMF,EAAN,uCAA6CC,EAA7C,qBA0BTU,cAtBF,SAAuBC,GAErB,OAAOV,EADE,UAAMF,EAAN,iCAAuCC,EAAvC,iCAAmEW,KAsB5EC,aAlBF,SAAsBC,GAEpB,OAAOZ,EADE,UAAMF,EAAN,kBAAwBc,EAAxB,oBAAsCb,EAAtC,qBAkBTc,aAdF,SAAsBD,GAEpB,OAAOZ,EADE,UAAMF,EAAN,kBAAwBc,EAAxB,4BAA8Cb,EAA9C,qBAcTe,gBAVF,SAAyBF,GAEvB,OAAOZ,EADE,UAAMF,EAAN,kBAAwBc,EAAxB,4BAA8Cb,EAA9C,sBAYIQ,O,gCC1CA,QAA0B,8C,6ECA1B,G,KAAA,IAA0B,sCCI1B,SAASQ,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAGlC,OACE,qCACE,mBAAGC,MAAO,CAAEC,WAAY,qBAAsBC,WAAY,OAA1D,SACGH,GALc,0BAQjB,qBAAKC,MAAO,CAAEG,MAAO,SAAWC,IAAKC,EAAUC,IAAI,e,mBCZzDC,EAAOC,QAAU,CAAC,QAAU,2BAA2B,KAAO,wBAAwB,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,MAAQ,2B,6ICG9KC,EAFE,SAAAC,GAAM,OAAIC,IAAQD,EAAQ,CAAEE,OAAO,KC4CrCC,MAtCf,YAAuC,IAAlBC,EAAiB,EAAjBA,OAAQf,EAAS,EAATA,MACrBgB,EAAWC,cACXC,EAAQ,UAAMF,EAASG,UAAf,OAA0BH,EAASI,QAEjD,OACE,sBAAKC,UAAWC,IAAEC,QAAlB,UACE,6BAAKvB,IACL,oBAAIqB,UAAWC,IAAEE,KAAjB,SACGT,EAAOU,KAAI,SAAAC,GACV,IAAMC,EAAYjB,EAASgB,EAAM1B,OACjC,OACE,oBAAmBqB,UAAWC,IAAEM,KAAhC,SACE,eAAC,IAAD,CACEC,GAAI,CACFV,SAAS,WAAD,OAAaQ,EAAb,YAA0BD,EAAM9B,IACxCkC,MAAOZ,GAETG,UAAWC,IAAES,KALf,UAOE,qBACEV,UAAWC,IAAEU,MACb3B,IACEqB,EAAMO,YAAN,yCACsCP,EAAMO,aACxCC,IAEN3B,IAAKmB,EAAM1B,QAEb,mBAAGqB,UAAWC,IAAEtB,MAAhB,SAAwB0B,EAAM1B,YAjBzB0B,EAAM9B,c,yICbrBuC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,IAAY,IAAD,EACLC,mBAAS,MADJ,mBAC1BtB,EAD0B,KAClBuB,EADkB,OAELD,mBAASF,GAFJ,mBAE1BI,EAF0B,KAElBC,EAFkB,KAkBjC,OAdAC,qBAAU,WACRD,EAAUL,GACVO,IACGlD,kBACAmD,MAAK,SAAArD,GACJsD,QAAQC,IAAIvD,EAAKwD,SACjBR,EAAUhD,EAAKwD,SACfN,EAAUL,MAEXY,OAAM,SAAAC,GACLR,EAAUL,QAEb,IAGD,qCACGI,IAAWJ,GAAkB,cAAC,IAAD,IAC7BI,IAAWJ,GACV,cAAC,IAAD,CAAWpB,OAAQA,EAAQf,MAAM,mBAElCuC,IAAWJ,GAAmB,cAAC,IAAD","file":"static/js/home-view.3b41bd00.chunk.js","sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3`;\nconst KEY = `e3cd242deca1bad74d91e1e2d7bfed41`;\n\nasync function fetchByURL(url) {\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nfunction getTrendingData() {\n  const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US`;\n  return fetchByURL(url);\n}\n\nfunction getSearchData(query) {\n  const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${query}`;\n  return fetchByURL(url);\n}\n\nfunction getMovieById(id) {\n  const url = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US`;\n  return fetchByURL(url);\n}\n\nfunction getMovieCast(id) {\n  const url = `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`;\n  return fetchByURL(url);\n}\n\nfunction getMovieReviews(id) {\n  const url = `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US`;\n  return fetchByURL(url);\n}\n\nconst api = {\n  getTrendingData,\n  getSearchData,\n  getMovieById,\n  getMovieCast,\n  getMovieReviews,\n};\n\nexport default api;","export default __webpack_public_path__ + \"static/media/imagePlaceholder.298b9820.png\";","export default __webpack_public_path__ + \"static/media/notFound.6ef12178.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport notFound from '../images/notFound.png';\n\nexport default function ErrorView({ title }) {\n  const defaultTitle = 'Oops! No such page :(';\n\n  return (\n    <>\n      <p style={{ fontFamily: 'Roboto, sans-serif', fontWeight: '700' }}>\n        {title || defaultTitle}\n      </p>\n\n      <img style={{ width: '500px' }} src={notFound} alt=\"error\" />\n    </>\n  );\n}\n\nErrorView.propTypes = {\n  title: PropTypes.string,\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieList_wrapper__1C9Z6\",\"list\":\"MovieList_list__ykPoV\",\"item\":\"MovieList_item__umyvu\",\"image\":\"MovieList_image__2I3DI\",\"link\":\"MovieList_link__1OSFX\",\"title\":\"MovieList_title__gdraA\"};","import slugify from 'slugify';\n\nconst makeSlug = string => slugify(string, { lower: true });\n\nexport default makeSlug;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './MovieList.module.css';\nimport imagePlaceholder from '../../images/imagePlaceholder.png';\nimport makeSlug from '../../tools/slug';\n\nfunction MovieList({ movies, title }) {\n  const location = useLocation();\n  const navRoute = `${location.pathname}${location.search}`;\n\n  return (\n    <div className={s.wrapper}>\n      <h2>{title}</h2>\n      <ul className={s.list}>\n        {movies.map(movie => {\n          const movieSlug = makeSlug(movie.title);\n          return (\n            <li key={movie.id} className={s.item}>\n              <Link\n                to={{\n                  pathname: `/movies/${movieSlug}-${movie.id}`,\n                  state: navRoute,\n                }}\n                className={s.link}\n              >\n                <img\n                  className={s.image}\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                      : imagePlaceholder\n                  }\n                  alt={movie.title}\n                />\n                <p className={s.title}>{movie.title}</p>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n  title: PropTypes.string.isRequired,\n};","import React, { useState, useEffect } from 'react';\nimport moviesAPI from '../services/movies-api';\nimport MovieList from '../components/MovieList';\nimport Loader from '../components/Loader';\nimport ErrorView from './ErrorView';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function HomeView() {\n  const [movies, setMovies] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    moviesAPI\n      .getTrendingData()\n      .then(data => {\n        console.log(data.results);\n        setMovies(data.results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setStatus(Status.REJECTED);\n      });\n  }, []);\n\n  return (\n    <>\n      {status === Status.PENDING && <Loader />}\n      {status === Status.RESOLVED && (\n        <MovieList movies={movies} title=\"Trending today\" />\n      )}\n      {status === Status.REJECTED && <ErrorView />}\n    </>\n  );\n}"],"sourceRoot":""}